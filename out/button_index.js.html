<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: button/index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: button/index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {Component} from '../component';
import template from './template.hbs';

export class Button extends Component{

    constructor(options){
        super(options);

        this.label = options.element.properties.label || '';

        this.controlEl = null;

        this.caption = options.element.properties.caption || '';
        this.icon = options.element.properties.icon || '';
        this.style = options.element.properties.style || 'btn btn-default';

        this.hidden = options.element.properties.hidden || false;
        this.enabled = options.element.properties.enabled || true;
    }


    /**
     * Заполняет контейнер html содержимым
     * @private
     */
    _generateHTML(){

        if (!this.box) {
            this.box = document.createElement('div');
        }

        this.box.style.display = 'inline-block';

        this.box.innerHTML = template({
            "id" : this.id,
            "className" : this.style,
            "caption" : this.caption
        });

        this.controlEl = this.box.querySelector('button');

    }

    initLogic(){

        // если до сих пор не определен контейнер box - значит мы работаем с кастомным шаблоном, а в нем по стандарту поле должно быть завернуто в div с [data-component = "button"]
        if (!this.box) {
            let button = this.parent.box.querySelector('#' + this.id);
            if (!button) return;
            this.controlEl = button;
            this.box = button.closest('[data-component = "button"]');
        }

        this.addHandlers();
    }

    applyProperties(){
        if (this.hidden) {
            this.hide();
        } else {
            this.show();
        }

        if (this.enabled) {
            this.enable();
        } else {
            this.disable();
        }
    }

    ///// Public methods /////

    enable() {
        // при кастомном макете элемент может быть не орпеделен
        if (!this.controlEl) return;
        this.controlEl.removeAttribute('disabled');

    }

    disable() {
        // при кастомном макете элемент может быть не орпеделен
        if (!this.controlEl) return;
        this.controlEl.setAttribute('disabled', true);
    }

    /**
     * Генерирует DOM элемент с кнопкой и возвращает его
     * @returns {object} - DOM элемент с формой
     */
    render(){

        this._generateHTML();

        return this.box;

    }

}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-component.html">component</a></li><li><a href="module-grid.html">grid</a></li><li><a href="module-tools.html">tools</a></li></ul><h3>Classes</h3><ul><li><a href="Map.html">Map</a></li><li><a href="module.exports.html">exports</a></li><li><a href="module-component.Component.html">Component</a></li><li><a href="module-grid.Grid.html">Grid</a></li><li><a href="Page.html">Page</a></li><li><a href="Popup.html">Popup</a></li></ul><h3>Global</h3><ul><li><a href="global.html#auth">auth</a></li><li><a href="global.html#buildNavigatorToolbar">buildNavigatorToolbar</a></li><li><a href="global.html#config">config</a></li><li><a href="global.html#on">on</a></li><li><a href="global.html#refresh">refresh</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#showPage">showPage</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.3</a> on Wed Aug 02 2017 13:02:59 GMT+0800 (RTZ 7 (зима))
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
